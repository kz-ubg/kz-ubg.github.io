<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>kz-ubg</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600;700;800;900&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #0d001a;
  --surface: rgba(20, 15, 35, 0.6);
  --surface-hover: rgba(30, 22, 50, 0.8);
  --accent: #c446ff;
  --accent-secondary: #a03cff;
  --glow: rgba(196, 70, 255, 0.4);
  --glow-intense: rgba(196, 70, 255, 0.8);
  --text: #ffffff;
  --text-muted: #c0c0d0;
  --grid: rgba(255, 255, 255, 0.03);
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: var(--text);
  font-family: 'Inter', system-ui, sans-serif;
  min-height: 100vh;
  background-image: 
    linear-gradient(var(--grid) 1px, transparent 1px),
    linear-gradient(90deg, var(--grid) 1px, transparent 1px);
  background-size: 80px 80px;
  overflow-x: hidden;
}

::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(196, 70, 255, 0.3); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent); }

nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 80px;
  padding: 0 40px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  backdrop-filter: blur(20px);
  background: rgba(13, 0, 26, 0.7);
  border-bottom: 1px solid rgba(196, 70, 255, 0.15);
  z-index: 6767676741414141;
}

.nav-left {
  display: flex;
  align-items: center;
  gap: 20px;
}

.nav-left img {
  height: 48px;
  width: auto;
}

.nav-left span {
  font-size: 2rem;
  font-weight: 900;
  letter-spacing: -1px;
  background: linear-gradient(120deg, #e0b0ff, var(--accent), #8c38ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.nav-right {
  display: flex;
  gap: 40px;
  align-items: center;
}

.nav-right a {
  color: var(--text-muted);
  text-decoration: none;
  font-size: 1.1rem;
  font-weight: 600;
  transition: all 0.3s ease;
  position: relative;
}

.nav-right a:hover {
  color: var(--text);
}

.nav-right a::after {
  content: '';
  position: absolute;
  bottom: -6px;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--accent);
  transition: width 0.4s ease;
}

.nav-right a:hover::after {
  width: 100%;
}

main {
  padding-top: 120px;
}

header {
  padding: 60px 20px 60px;
  text-align: center;
  font-size: clamp(4.5rem, 14vw, 8rem);
  font-weight: 900;
  letter-spacing: -4px;
  background: linear-gradient(120deg, #e0b0ff, var(--accent), #8c38ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  text-shadow: 0 0 60px var(--glow);
}

#search-container {
  max-width: 900px;
  margin: 0 auto 120px;
  padding: 0 20px;
  position: relative;
}

#search {
  width: 100%;
  height: 80px;
  padding: 0 40px;
  font-size: 1.8rem;
  font-weight: 600;
  color: var(--text);
  background: var(--surface);
  border: none;
  border-radius: 40px;
  outline: none;
  backdrop-filter: blur(16px);
  box-shadow: 0 8px 32px rgba(0,0,0,0.4);
  transition: all 0.5s cubic-bezier(0.16, 1, 0.3, 1);
}

#search::placeholder {
  color: var(--text-muted);
  opacity: 0.6;
}

#search:focus {
  background: var(--surface-hover);
  box-shadow: 
    0 0 0 6px var(--glow),
    0 30px 60px rgba(0,0,0,0.6);
  transform: translateY(-6px) scale(1.02);
}

#games {
  max-width: 1700px;
  margin: 0 auto;
  padding: 0 40px 160px;
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 48px;
}

.game-card {
  cursor: pointer;
  opacity: 0;
  transform: translateY(60px) scale(0.95);
  transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
}

.game-card.visible {
  opacity: 1;
  transform: translateY(0) scale(1);
}

.game-card:hover {
  transform: translateY(-24px) scale(1.03);
  z-index: 10;
}

.game-cover {
  width: 100%;
  height: 260px;
  object-fit: cover;
  border-radius: 28px;
  background: #000;
  box-shadow: 0 24px 48px rgba(0,0,0,0.7);
  transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1);
  position: relative;
  overflow: hidden;
}

.game-cover::after {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(180deg, transparent 40%, rgba(0,0,0,0.6));
  opacity: 0;
  transition: opacity 0.6s ease;
}

.game-card:hover .game-cover::after {
  opacity: 1;
}

.game-card:hover .game-cover {
  transform: scale(1.08);
  border-radius: 32px;
  box-shadow: 
    0 48px 96px rgba(0,0,0,0.8),
    0 0 60px var(--glow-intense);
  outline: 4px solid var(--accent);
  outline-offset: 8px;
}

.game-name {
  margin-top: 24px;
  text-align: center;
  font-size: 1.4rem;
  font-weight: 700;
  color: var(--text);
  text-shadow: 0 2px 10px rgba(0,0,0,0.5);
}

#player {
  position: fixed;
  inset: 0;
  background: rgba(5, 0, 15, 0.96);
  backdrop-filter: blur(24px);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
  padding: 40px;
  padding-top: 120px;
  opacity: 0;
  transition: opacity 0.4s ease;
}

#player.active {
  opacity: 1;
}

#player iframe {
  width: 100%;
  max-width: 1400px;
  height: 85vh;
  border-radius: 32px;
  border: none;
  box-shadow: 0 60px 140px rgba(0,0,0,0.9);
  background: #000;
}
</style>
</head>
<body>

<nav>
  <div class="nav-left">
    <img src="logo.png" alt="kz-ubg logo">
    <span>kz-ubg</span>
  </div>
  <div class="nav-right">
    <a href="/">Home</a>
    <a href="/dmca">DMCA</a>
  </div>
</nav>

<main>
  <header>kz-ubg</header>

  <div id="search-container">
    <input type="text" id="search" placeholder="Search games...">
  </div>

  <div id="games"></div>
</main>

<div id="player">
  <iframe id="frame" sandbox="allow-scripts allow-same-origin allow-modals allow-popups allow-forms allow-popups-to-escape-sandbox"></iframe>
</div>

<script>
const COVER_URL = "https://cdn.jsdelivr.net/gh/gn-math/covers@main";
const HTML_URL = "/g";
const gamesDiv = document.getElementById("games");
const player = document.getElementById("player");
const frame = document.getElementById("frame");

fetch("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa.json")
  .then(r => r.json())
  .then(data => {
    const validGames = data.filter(game => game.id !== -1);
    const total = validGames.length;
    let loaded = 0;

    validGames.forEach((game, index) => {
      setTimeout(() => {
        const card = document.createElement("div");
        card.className = "game-card";

        const img = document.createElement("img");
        img.className = "game-cover";
        img.src = game.cover.replace("{COVER_URL}", COVER_URL);
        img.alt = game.name;
        img.loading = "lazy";
        img.onerror = () => { img.src = "https://via.placeholder.com/520x520/111111/ffffff?text=No+Cover"; };

        const name = document.createElement("div");
        name.className = "game-name";
        name.textContent = game.name;

        card.appendChild(img);
        card.appendChild(name);

        card.onclick = () => {
          frame.src = game.url.replace("{HTML_URL}", HTML_URL);
          player.style.display = "flex";
          setTimeout(() => player.classList.add("active"), 10);
        };

        gamesDiv.appendChild(card);
        setTimeout(() => card.classList.add("visible"), 100);

        loaded++;
        if (loaded === total) {
          const msg = document.createElement("p");
          msg.textContent = `${total} games loaded`;
          msg.style.cssText = "text-align:center;color:var(--text-muted);margin:60px 0 20px;font-size:1.3rem;opacity:0;transition:opacity 1.2s ease";
          gamesDiv.before(msg);
          setTimeout(() => msg.style.opacity = "1", 200);
          setTimeout(() => msg.style.opacity = "0", 3200);
          setTimeout(() => msg.remove(), 4500);
        }
      }, index * 35);
    });
  })
  .catch(() => {
    gamesDiv.innerHTML = "<p style='text-align:center;color:#ff3366;font-size:1.6rem;margin:100px 0;'>Failed to load games</p>";
  });

document.getElementById("search").addEventListener("input", e => {
  const term = e.target.value.toLowerCase();
  document.querySelectorAll(".game-card").forEach(card => {
    const name = card.querySelector(".game-name").textContent.toLowerCase();
    card.style.display = name.includes(term) ? "" : "none";
  });
});

player.addEventListener("click", e => {
  if (e.target === player) {
    player.classList.remove("active");
    setTimeout(() => {
      player.style.display = "none";
      frame.src = "";
    }, 400);
  }
});
</script>
</body>
</html>